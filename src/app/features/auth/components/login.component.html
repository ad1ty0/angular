<div class="login-container">
  <div class="container-fluid h-100">
    <div class="row min-vh-100">
      <!-- Left side - Brand -->
      <div class="col-lg-6 col-md-6 d-none d-md-flex align-items-center justify-content-center brand-column">
        <div class="brand-section text-center">
          <h1 class="connecto-brand">Connecto</h1>
          <p class="connecto-tagline">Weaving the world together</p>
        </div>
      </div>
      
      <!-- Right side - Login Form -->
      <div class="col-lg-6 col-md-6 col-12 d-flex align-items-center justify-content-center form-column" style="margin-left: auto;">
        <div class="login-card">
          <!-- Mobile brand -->
          <div class="d-block d-md-none text-center mb-4">
            <h1 class="connecto-brand mb-2">Connecto</h1>
            <p class="connecto-tagline">Weaving the world together</p>
          </div>
          
          <h2 class="form-title mb-4">Log in to Connecto</h2>
          
          <form [formGroup]="loginForm" (ngSubmit)="onLogin()">
            <div class="mb-3">
              <input 
                type="text" 
                class="form-control" 
                [class.is-invalid]="isFieldInvalid('emailOrPhone')"
                formControlName="emailOrPhone"
                placeholder="Email address or phone number"
                autocomplete="username"
              >
              <div class="invalid-feedback" *ngIf="isFieldInvalid('emailOrPhone')">
                <div *ngIf="loginForm.get('emailOrPhone')?.errors?.['required']">
                  Please provide a valid email or phone number
                </div>
              </div>
            </div>
            
            <div class="mb-3">
              <input 
                type="password" 
                class="form-control"
                [class.is-invalid]="isFieldInvalid('password')"
                formControlName="password"
                placeholder="Password"
                autocomplete="current-password"
              >
              <div class="invalid-feedback" *ngIf="isFieldInvalid('password')">
                <div *ngIf="loginForm.get('password')?.errors?.['required']">
                  Please provide a valid password
                </div>
              </div>
            </div>
            
            <!-- Error message for login attempts -->
            <div class="alert alert-danger" *ngIf="loginError">
              {{ loginError }}
            </div>
            
            <!-- Circuit breaker message -->
            <div class="alert alert-warning" *ngIf="circuitBreakerActive">
              <div class="text-center">
                <p class="mb-2">Too many failed login attempts. Please wait.</p>
                <div class="h4 text-danger">{{ formatTime(remainingTime) }}</div>
              </div>
            </div>
            
            <button 
              type="submit" 
              class="btn btn-login"
              [disabled]="loginForm.invalid || circuitBreakerActive || isLoading"
            >
              <span *ngIf="isLoading" class="spinner-border spinner-border-sm me-2"></span>
              Log in
            </button>
            
            <button 
              type="button" 
              class="btn btn-create-account"
              (click)="goToRegistration()"
            >
              Create new account
            </button>
            
            <div class="text-center mt-3">
              <a href="#" class="text-decoration-none" (click)="forgotPassword($event)">
                Forgot Password?
              </a>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>